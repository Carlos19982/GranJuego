<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landing Page Elegante - Menú Principal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Estilos personalizados */
        body {
            font-family: 'Inter', sans-serif; /* Fuente Inter */
        }
        .grid-button {
            /* Estilo base del botón */
            aspect-ratio: 1 / 1; /* Mantiene la forma cuadrada */
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem; /* Bordes redondeados (igual a rounded-lg de Tailwind) */
            background-color: #4B5563; /* Color base gris oscuro (Tailwind gray-600) */
            color: #F9FAFB; /* Color de texto gris muy claro (Tailwind gray-50) */
            font-weight: 600; /* Semibold */
            font-size: 1.125rem; /* text-lg */
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); /* Sombra sutil */
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.2s ease-in-out; /* Transiciones suaves */
            text-decoration: none; /* Quitar subrayado del enlace */
            text-align: center; /* Centrar texto si es largo */
            padding: 0.5rem; /* Añadir padding por si el texto es largo */
        }
        .grid-button:hover {
            /* Efecto al pasar el ratón */
            transform: translateY(-3px) scale(1.03); /* Ligero levantamiento y escala */
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); /* Sombra más pronunciada */
            background-color: #374151; /* Color gris más oscuro al pasar el ratón (Tailwind gray-700) */
        }
        /* Estilo para el contenedor del saldo */
        #global-balance-container {
            background-color: #e5e7eb; /* bg-gray-200 */
            padding: 0.75rem 1.5rem; /* py-3 px-6 */
            border-radius: 0.5rem; /* rounded-lg */
            border: 1px solid #d1d5db; /* border border-gray-300 */
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
            display: inline-block; /* Para que no ocupe todo el ancho */
            margin-top: 0.5rem; /* Separación del título */
        }
    </style>
</head>
<body class="bg-gray-100 flex flex-col min-h-screen text-gray-800">

    <header class="bg-white shadow-md py-5 mb-10 text-center">
        <div class="container mx-auto px-6">
            <h1 class="text-3xl font-bold text-gray-700">Trabajos</h1>
            <div id="global-balance-container" class="mt-4">
                 <span class="text-lg font-semibold text-gray-600">Saldo Global:</span>
                 <span id="global-balance" class="text-xl font-bold text-indigo-700">Cargando...</span>
                 <span class="text-lg font-semibold text-gray-600">€</span>
            </div>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-6 lg:px-8 py-8">
        <div class="grid grid-cols-2 sm:grid-cols-3 gap-6 md:gap-8">
            <a href="./Juego1/AdivinaCartas.html" class="grid-button">
                Adivinar (Cartas)
            </a>
            <a href="./juego2/FlappyBird.html" class="grid-button">
                Flappy bird
            </a>
            <a href="./Juego3/Ruleta.html" class="grid-button">
                Ruleta
            </a>
            <a href="#" class="grid-button">
                Opción 4
            </a>
            <a href="#" class="grid-button">
                Opción 5
            </a>
            <a href="#" class="grid-button">
                Opción 6
            </a>
        </div>
    </main>

    <footer class="bg-gray-800 text-gray-300 py-6 mt-12">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 Carlos Blanco Hidalgo. Todos los derechos reservados.</p>
            </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Clave usada en el juego para guardar el saldo en localStorage
            const BALANCE_LOCAL_STORAGE_KEY = 'cardGamePlayerBalance_v3';
            // Saldo inicial por defecto si no se encuentra nada
            const DEFAULT_BALANCE = 5000;
            // Elemento donde mostraremos el saldo
            const balanceElement = document.getElementById('global-balance');

            // Función para actualizar el saldo mostrado
            function updateBalanceDisplay() {
                try {
                    const savedBalance = localStorage.getItem(BALANCE_LOCAL_STORAGE_KEY);
                    let balanceToShow = DEFAULT_BALANCE; // Usar por defecto

                    if (savedBalance !== null) {
                        const parsedBalance = parseInt(savedBalance);
                        // Comprobar si es un número válido
                        if (!isNaN(parsedBalance)) {
                            balanceToShow = parsedBalance;
                        } else {
                            console.warn('Saldo guardado no es un número válido, usando valor por defecto.');
                            // Opcional: limpiar el valor inválido
                            // localStorage.removeItem(BALANCE_LOCAL_STORAGE_KEY);
                        }
                    } else {
                        console.log('No se encontró saldo guardado, mostrando valor por defecto.');
                    }

                    if (balanceElement) {
                        // Formatear el número para mejor lectura si quieres (opcional)
                        // balanceElement.textContent = balanceToShow.toLocaleString('es-ES');
                        balanceElement.textContent = balanceToShow;
                    }
                } catch (error) {
                    console.error("Error al leer el saldo desde localStorage:", error);
                    if (balanceElement) {
                        balanceElement.textContent = DEFAULT_BALANCE; // Mostrar defecto en caso de error
                    }
                }
            }

            // Llama a la función para mostrar el saldo al cargar la página
            updateBalanceDisplay();

            // (Opcional) Escuchar cambios en localStorage desde otras pestañas/ventanas
            // Si el saldo cambia en el juego, se actualizará aquí también
            window.addEventListener('storage', (event) => {
                // Comprueba si la clave que cambió es la del saldo
                if (event.key === BALANCE_LOCAL_STORAGE_KEY) {
                    console.log('Detectado cambio en el saldo desde otra pestaña.');
                    updateBalanceDisplay();
                }
            });

             // (Opcional) Actualizar el saldo cuando la ventana vuelve a tener foco
             // Útil si el usuario jugó en otra pestaña y luego vuelve a esta
             window.addEventListener('focus', () => {
                console.log('Ventana enfocada, actualizando saldo.');
                updateBalanceDisplay();
             });

            console.log("Landing page elegante cargada y script de saldo ejecutado.");
        });
    </script>

</body>
</html>
